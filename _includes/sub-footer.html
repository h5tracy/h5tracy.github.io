<script type="module">
import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({ startOnLoad: false });

Array.from(document.getElementsByClassName('language-mermaid')).forEach((element) => {
  const { svg, bindFunctions } = await mermaid.render('graphDiv-' + i, element.innerText);
  let div = document.createElement('div');
  div.innerHTML = svg;
  bindFunctions?.(div);
  element.parentElement.replaceWith(div);
});
</script>
