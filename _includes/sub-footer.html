<script type="module">
import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({ startOnLoad: false });

let elements = document.getElementsByClassName('language-mermaid');
for (let i = 0; i < elements.length; i++) {
  const graphDefinition = elements[i].innerText;
  const { svg, bindFunctions } = await mermaid.render('graphDiv' + i, graphDefinition);
  let element = document.createElement('div');
  element.innerHTML = svg;
  bindFunctions?.(element);
  elements[i].parentElement.replaceWith(element);
}
</script>
